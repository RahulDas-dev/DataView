import{u as e,a as o,g as t,P as r,b as i,d as s,j as a}from"./index-Mia99oiE.js";import{r as n}from"./ui-components-BNBUoXTo.js";import"./react-vendor-Bf-MSPTJ.js";import"./danfojs-bY-Wo8g9.js";import"./plotly-Dxrw3P6A.js";const l=({columnName:l})=>{const c=n.useRef(null),{isDark:d}=e(),{dataFrame:m}=o();return n.useEffect((()=>{if(!c.current||!m||m.isEmpty||0==m.shape[0]||!l)return;const e=c.current;e.innerHTML="";const o=i(d),a=m[l].dropNa().values;if(0===a.length)return void(e.innerHTML='<div class="p-4 text-zinc-500 dark:text-zinc-400 font-mono text-sm">No valid numerical data to display</div>');const n={type:"box",x:a,name:l,boxmean:!0,marker:{color:o.boxplotColor,outliercolor:d?"rgba(244, 244, 245, 0.95)":"rgba(0, 0, 27, 0)",size:6,opacity:.8},line:{color:d?"rgba(244, 244, 245, 0.9)":"rgba(63, 63, 70, 0.9)",width:1.5},hoverinfo:"y+name",boxpoints:"outliers",jitter:.3,pointpos:0,fillcolor:o.boxplotColor,hoveron:"points"},f={...t(d,e.offsetWidth,"",l),xaxis:{title:{text:l,font:{family:"Montserrat, sans-serif",size:14,color:d?"rgba(244, 244, 245, 0.9)":"rgba(63, 63, 70, 0.9)"}},showgrid:!0,gridcolor:d?"rgba(113, 113, 122, 0.2)":"rgba(212, 212, 216, 0.5)",zeroline:!1,zerolinecolor:d?"rgba(161, 161, 170, 0.5)":"rgba(82, 82, 91, 0.5)",showticklabels:!0,tickfont:{family:"monospace",size:11,color:d?"rgba(212, 212, 216, 0.9)":"rgba(63, 63, 70, 0.9)"}},yaxis:{showticklabels:!1,zeroline:!1},margin:{l:20,r:10,t:40,b:50},showlegend:!1},p=s(`boxplot_${l}`),x=()=>{e&&r.relayout(e,{width:e.offsetWidth})},u=setTimeout((()=>{try{e&&(r.newPlot(e,[n],f,p),window.addEventListener("resize",x))}catch(o){e&&(e.innerHTML='<div class="p-4 text-zinc-500 dark:text-zinc-400 font-mono text-sm">Error rendering box plot</div>')}}),50);return()=>{if(clearTimeout(u),window.removeEventListener("resize",x),e)try{r.purge(e)}catch(o){}}}),[m,l,d]),a.jsx("div",{className:"w-full",children:a.jsx("div",{ref:c,className:"w-full h-[400px] min-h-[200px]","data-testid":"box-plot",children:a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx("div",{className:"animate-pulse text-zinc-400 font-mono text-sm",children:"Loading visualization..."})})})})};export{l as default};
