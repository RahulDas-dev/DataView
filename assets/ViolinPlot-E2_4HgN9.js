import{u as i,a as t,g as e,P as o,b as r,d as s,j as a}from"./index-D9lC759Y.js";import{r as n}from"./ui-components-BNBUoXTo.js";import"./react-vendor-Bf-MSPTJ.js";import"./danfojs-bY-Wo8g9.js";import"./plotly-Dxrw3P6A.js";const l=({columnName:l})=>{const c=n.useRef(null),{isDark:d}=i(),{dataFrame:m}=t();return n.useEffect((()=>{if(!c.current||!m||m.isEmpty||0==m.shape[0]||!l)return;const i=c.current;i.innerHTML="";const t=r(d),a=m[l].dropNa().values;if(0===a.length)return void(i.innerHTML='<div class="p-4 text-zinc-500 dark:text-zinc-400 font-mono text-sm">No valid numerical data to display</div>');const n={type:"violin",x:a,name:l,box:{visible:!0,width:.2},meanline:{visible:!0,color:d?"rgba(244, 244, 245, 0.9)":"rgba(39, 39, 42, 0.9)",width:2},line:{color:d?"rgba(212, 212, 216, 0.9)":"rgba(63, 63, 70, 0.9)",width:1.5},fillcolor:t.violinColor,opacity:.8,points:"outliers",jitter:.3,pointpos:0,hoveron:"violins+points",side:"both",width:1.8,spanmode:"soft",marker:{symbol:"circle",opacity:.7,color:d?"rgba(244, 244, 245, 0.8)":"rgba(24, 24, 27, 0.8)",size:5,line:{color:d?"rgba(228, 228, 231, 0.9)":"rgba(39, 39, 42, 0.9)",width:1}}},f={...e(d,i.offsetWidth,"",l),xaxis:{title:{text:l,font:{family:"Montserrat, sans-serif",size:14,color:d?"rgba(244, 244, 245, 0.9)":"rgba(63, 63, 70, 0.9)"}},showgrid:!0,gridcolor:d?"rgba(113, 113, 122, 0.2)":"rgba(212, 212, 216, 0.5)",showticklabels:!0,tickfont:{family:"monospace",size:11,color:d?"rgba(212, 212, 216, 0.9)":"rgba(63, 63, 70, 0.9)"}},yaxis:{showticklabels:!1,zeroline:!1},margin:{l:20,r:10,t:40,b:70},showlegend:!1},p=s(`violinplot_${l}`),u=()=>{i&&o.relayout(i,{width:i.offsetWidth})},h=setTimeout((()=>{try{i&&(o.newPlot(i,[n],f,p),window.addEventListener("resize",u))}catch(t){i&&(i.innerHTML='<div class="p-4 text-zinc-500 dark:text-zinc-400 font-mono text-sm">Error rendering violin plot</div>')}}),50);return()=>{if(clearTimeout(h),window.removeEventListener("resize",u),i)try{o.purge(i)}catch(t){}}}),[m,l,d]),a.jsx("div",{className:"w-full",children:a.jsx("div",{ref:c,className:"w-full h-[400px] min-h-[200px]","data-testid":"violin-plot",children:a.jsx("div",{className:"h-full w-full flex items-center justify-center",children:a.jsx("div",{className:"animate-pulse text-zinc-400 font-mono text-sm",children:"Loading visualization..."})})})})};export{l as default};
